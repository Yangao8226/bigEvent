import{b as I,d as E,u as O,c as _,p as D,o as b,a as w,w as t,r as U,n as L,e as i,f as B,g as P,_ as q,h as K,i as y,m as v,j as z,k as j,l as J,q as G,s as V,t as H,v as s,x as m,y as S,z as Q,A as W,B as X,C as R,D as k,E as Y,F as Z}from"./index-BZ6anzCx.js";import{E as ee}from"./el-checkbox-zRlmXZLH.js";import{E as se,a as te,b as ae}from"./el-form-item-CKSfSFL9.js";import{E as le}from"./el-link-Bx5JFwlI.js";import{_ as oe,E as re}from"./_plugin-vue_export-helper-bd0Rmxjf.js";import"./index-Dd-0atpK.js";import"./isEqual-JJC-WhTM.js";import"./_baseClone-BqTtZK27.js";const F=Symbol("rowContextKey"),ue=["start","center","end","space-around","space-between","space-evenly"],ne=["top","middle","bottom"],pe=I({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:ue,default:"start"},align:{type:String,values:ne}}),de=E({name:"ElRow"}),ie=E({...de,props:pe,setup(f){const o=f,n=O("row"),u=_(()=>o.gutter);D(F,{gutter:u});const l=_(()=>{const a={};return o.gutter&&(a.marginRight=a.marginLeft=`-${o.gutter/2}px`),a}),c=_(()=>[n.b(),n.is(`justify-${o.justify}`,o.justify!=="start"),n.is(`align-${o.align}`,!!o.align)]);return(a,x)=>(b(),w(P(a.tag),{class:L(i(c)),style:B(i(l))},{default:t(()=>[U(a.$slots,"default")]),_:3},8,["class","style"]))}});var fe=q(ie,[["__file","row.vue"]]);const ce=K(fe),me=I({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:y([Number,Object]),default:()=>v({})},sm:{type:y([Number,Object]),default:()=>v({})},md:{type:y([Number,Object]),default:()=>v({})},lg:{type:y([Number,Object]),default:()=>v({})},xl:{type:y([Number,Object]),default:()=>v({})}}),_e=E({name:"ElCol"}),ge=E({..._e,props:me,setup(f){const o=f,{gutter:n}=z(F,{gutter:_(()=>0)}),u=O("col"),l=_(()=>{const a={};return n.value&&(a.paddingLeft=a.paddingRight=`${n.value/2}px`),a}),c=_(()=>{const a=[];return["span","offset","pull","push"].forEach(e=>{const p=o[e];j(p)&&(e==="span"?a.push(u.b(`${o[e]}`)):p>0&&a.push(u.b(`${e}-${o[e]}`)))}),["xs","sm","md","lg","xl"].forEach(e=>{j(o[e])?a.push(u.b(`${e}-${o[e]}`)):J(o[e])&&Object.entries(o[e]).forEach(([p,r])=>{a.push(p!=="span"?u.b(`${e}-${p}-${r}`):u.b(`${e}-${r}`))})}),n.value&&a.push(u.is("guttered")),[u.b(),a]});return(a,x)=>(b(),w(P(a.tag),{class:L(i(c)),style:B(i(l))},{default:t(()=>[U(a.$slots,"default")]),_:3},8,["class","style"]))}});var ye=q(ge,[["__file","col.vue"]]);const ve=K(ye),M=f=>(Y("data-v-937acf85"),f=f(),Z(),f),be=M(()=>S("h1",null,"注册",-1)),we=M(()=>S("h1",null,"登录",-1)),xe={class:"flex"},$e={__name:"LoginPage",setup(f){const o=G(),n=V(!1),u=V(),l=V({username:"",password:"",repassword:""}),c={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:1,max:10,message:"用户名必须是1-10位的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"blur"},{validator:($,e,p)=>{e!==l.value.password?p(new Error("两次输入的密码不匹配!")):p()},trigger:"blur"}]},a=async()=>{await u.value.validate(),await Q(l.value),ElMessage.success("注册成功!"),n.value=!1},x=async()=>{await u.value.validate();const $=await W(l.value);o.setToken($.data.token),ElMessage.success("登录成功!"),X.push("/")};return H(n,()=>{l.value={username:"",password:"",repassword:""}}),($,e)=>{const p=ve,r=se,g=te,C=re,h=le,N=ae,T=ee,A=ce;return b(),w(A,{class:"login-page"},{default:t(()=>[s(p,{span:12,class:"bg"}),s(p,{span:6,offset:3,class:"form"},{default:t(()=>[n.value?(b(),w(N,{key:0,model:l.value,rules:c,ref_key:"form",ref:u,size:"large",autocomplete:"off"},{default:t(()=>[s(r,null,{default:t(()=>[be]),_:1}),s(r,{prop:"username"},{default:t(()=>[s(g,{modelValue:l.value.username,"onUpdate:modelValue":e[0]||(e[0]=d=>l.value.username=d),"prefix-icon":i(R),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),s(r,{prop:"password"},{default:t(()=>[s(g,{modelValue:l.value.password,"onUpdate:modelValue":e[1]||(e[1]=d=>l.value.password=d),"prefix-icon":i(k),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(r,{prop:"repassword"},{default:t(()=>[s(g,{modelValue:l.value.repassword,"onUpdate:modelValue":e[2]||(e[2]=d=>l.value.repassword=d),"prefix-icon":i(k),type:"password",placeholder:"请再次输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(r,null,{default:t(()=>[s(C,{onClick:a,class:"button",type:"primary","auto-insert-space":""},{default:t(()=>[m(" 注册 ")]),_:1})]),_:1}),s(r,{class:"flex"},{default:t(()=>[s(h,{type:"info",underline:!1,onClick:e[3]||(e[3]=d=>n.value=!1)},{default:t(()=>[m(" ← 返回 ")]),_:1})]),_:1})]),_:1},8,["model"])):(b(),w(N,{key:1,model:l.value,rules:c,ref_key:"form",ref:u,size:"large",autocomplete:"off"},{default:t(()=>[s(r,null,{default:t(()=>[we]),_:1}),s(r,{prop:"username"},{default:t(()=>[s(g,{modelValue:l.value.username,"onUpdate:modelValue":e[4]||(e[4]=d=>l.value.username=d),"prefix-icon":i(R),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),s(r,{prop:"password"},{default:t(()=>[s(g,{modelValue:l.value.password,"onUpdate:modelValue":e[5]||(e[5]=d=>l.value.password=d),name:"password","prefix-icon":i(k),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(r,{class:"flex"},{default:t(()=>[S("div",xe,[s(T,null,{default:t(()=>[m("记住我")]),_:1}),s(h,{type:"primary",underline:!1},{default:t(()=>[m("忘记密码？")]),_:1})])]),_:1}),s(r,null,{default:t(()=>[s(C,{onClick:x,class:"button",type:"primary","auto-insert-space":""},{default:t(()=>[m("登录")]),_:1})]),_:1}),s(r,{class:"flex"},{default:t(()=>[s(h,{type:"info",underline:!1,onClick:e[6]||(e[6]=d=>n.value=!0)},{default:t(()=>[m(" 注册 → ")]),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},Re=oe($e,[["__scopeId","data-v-937acf85"]]);export{Re as default};
