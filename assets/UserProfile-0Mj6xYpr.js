import{s as u,o as p,a as _,w as l,bJ as g,v as a,x as v,bK as b}from"./index-BZ6anzCx.js";import{a as V,E as k,b as E}from"./el-form-item-CKSfSFL9.js";import{_ as I,E as U}from"./_plugin-vue_export-helper-bd0Rmxjf.js";import{P as x}from"./PageContainer-Cgg-xLYz.js";import"./index-Dd-0atpK.js";import"./_baseClone-BqTtZK27.js";const y={__name:"UserProfile",setup(N){const e=u({loginName:"",nickname:"",email:""}),i={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"用户昵称必须是2-10位的非空字符",trigger:["change","blur"]}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["change","blur"]}]},m=u(null),d=()=>{m.value.validate(async o=>{if(o)ElMessage.success("修改成功"),await b(e.value),location.reload();else return ElMessage.error("请完善表单内容"),!1})};return(async()=>{const o=await g();console.log(o.data),e.value=o.data.data,e.value.loginName=o.data.data.nickname})(),(o,t)=>{const s=V,n=k,c=U,f=E;return p(),_(x,{title:"基本资料"},{default:l(()=>[a(f,{model:e.value,rules:i,ref_key:"formRef",ref:m},{default:l(()=>[a(n,{label:"登录名称"},{default:l(()=>[a(s,{modelValue:e.value.loginName,"onUpdate:modelValue":t[0]||(t[0]=r=>e.value.loginName=r),disabled:""},null,8,["modelValue"])]),_:1}),a(n,{label:"用户昵称",prop:"nickname"},{default:l(()=>[a(s,{modelValue:e.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=r=>e.value.nickname=r)},null,8,["modelValue"])]),_:1}),a(n,{label:"用户邮箱",prop:"email"},{default:l(()=>[a(s,{modelValue:e.value.email,"onUpdate:modelValue":t[2]||(t[2]=r=>e.value.email=r)},null,8,["modelValue"])]),_:1}),a(n,null,{default:l(()=>[a(c,{type:"primary",onClick:d},{default:l(()=>[v("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}},F=I(y,[["__scopeId","data-v-7dd86c47"]]);export{F as default};
