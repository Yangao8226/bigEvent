import{s as i,o as g,a as b,w as l,bL as V,v as a,e as o,x as k,E as d,bM as v}from"./index-DU7TYByl.js";import{E,a as I}from"./el-form-item-BRRqcIoR.js";import{_ as U,E as x}from"./_plugin-vue_export-helper-AEV-r0sw.js";import{E as y}from"./el-input-V8fqKQd6.js";import{P as N}from"./PageContainer-BZ-6BrCx.js";/* empty css                   */import"./_baseClone-TyZT292g.js";const w={__name:"UserProfile",setup(P){const e=i({loginName:"",nickname:"",email:""}),f={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"用户昵称必须是2-10位的非空字符",trigger:["change","blur"]}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["change","blur"]}]},u=i(null),c=()=>{u.value.validate(async t=>{if(t)d.success("修改成功"),await v(e.value),location.reload();else return d.error("请完善表单内容"),!1})};return(async()=>{const t=await V();console.log(t.data),e.value=t.data.data,e.value.loginName=t.data.data.nickname})(),(t,r)=>{const m=y,s=E,p=x,_=I;return g(),b(N,{title:"基本资料"},{default:l(()=>[a(_,{model:o(e),rules:f,ref_key:"formRef",ref:u},{default:l(()=>[a(s,{label:"登录名称"},{default:l(()=>[a(m,{modelValue:o(e).loginName,"onUpdate:modelValue":r[0]||(r[0]=n=>o(e).loginName=n),disabled:""},null,8,["modelValue"])]),_:1}),a(s,{label:"用户昵称",prop:"nickname"},{default:l(()=>[a(m,{modelValue:o(e).nickname,"onUpdate:modelValue":r[1]||(r[1]=n=>o(e).nickname=n)},null,8,["modelValue"])]),_:1}),a(s,{label:"用户邮箱",prop:"email"},{default:l(()=>[a(m,{modelValue:o(e).email,"onUpdate:modelValue":r[2]||(r[2]=n=>o(e).email=n)},null,8,["modelValue"])]),_:1}),a(s,null,{default:l(()=>[a(p,{type:"primary",onClick:c},{default:l(()=>[k("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}},L=U(w,[["__scopeId","data-v-0aebdb43"]]);export{L as default};
