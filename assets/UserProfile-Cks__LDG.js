import{s as u,o as _,a as g,w as l,bM as v,v as a,x as b,E as i,bN as V}from"./index-BRWiflxj.js";import{E as k,a as E}from"./el-form-item-C0ohfN_Q.js";import{_ as I,E as N}from"./plugin-vueexport-helper-CZ20MfyZ.js";import{E as U}from"./el-input-rSAklJyp.js";import{P as x}from"./PageContainer-BCk6e3Sv.js";/* empty css                   */import"./_baseClone-DTZsyfuP.js";const y={__name:"UserProfile",setup(w){const e=u({loginName:"",nickname:"",email:""}),d={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"用户昵称必须是2-10位的非空字符",trigger:["change","blur"]}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["change","blur"]}]},m=u(null),c=()=>{m.value.validate(async o=>{if(o)i.success("修改成功"),await V(e.value),location.reload();else return i.error("请完善表单内容"),!1})};return(async()=>{const o=await v();console.log(o.data),e.value=o.data.data,e.value.loginName=o.data.data.nickname})(),(o,t)=>{const s=U,n=k,f=N,p=E;return _(),g(x,{title:"基本资料"},{default:l(()=>[a(p,{model:e.value,rules:d,ref_key:"formRef",ref:m},{default:l(()=>[a(n,{label:"登录名称"},{default:l(()=>[a(s,{modelValue:e.value.loginName,"onUpdate:modelValue":t[0]||(t[0]=r=>e.value.loginName=r),disabled:""},null,8,["modelValue"])]),_:1}),a(n,{label:"用户昵称",prop:"nickname"},{default:l(()=>[a(s,{modelValue:e.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=r=>e.value.nickname=r)},null,8,["modelValue"])]),_:1}),a(n,{label:"用户邮箱",prop:"email"},{default:l(()=>[a(s,{modelValue:e.value.email,"onUpdate:modelValue":t[2]||(t[2]=r=>e.value.email=r)},null,8,["modelValue"])]),_:1}),a(n,null,{default:l(()=>[a(f,{type:"primary",onClick:c},{default:l(()=>[b("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}},G=I(y,[["__scopeId","data-v-7dd86c47"]]);export{G as default};
